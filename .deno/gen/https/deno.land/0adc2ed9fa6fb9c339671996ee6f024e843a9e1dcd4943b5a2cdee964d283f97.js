// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { O_APPEND, O_CREAT, O_EXCL, O_RDWR, O_TRUNC, O_WRONLY } from "./_fs_constants.ts";
import { existsSync } from "../../fs/exists.ts";
import { getOpenOptions } from "./_fs_common.ts";
import { promisify } from "../internal/util.mjs";
import { parseFileMode } from "../internal/validators.mjs";
import { ERR_INVALID_ARG_TYPE } from "../internal/errors.ts";
import { getValidatedPath } from "../internal/fs/utils.mjs";
const FLAGS_AX = O_APPEND | O_CREAT | O_WRONLY | O_EXCL;
const FLAGS_AX_PLUS = O_APPEND | O_CREAT | O_RDWR | O_EXCL;
const FLAGS_WX = O_TRUNC | O_CREAT | O_WRONLY | O_EXCL;
const FLAGS_WX_PLUS = O_TRUNC | O_CREAT | O_RDWR | O_EXCL;
function convertFlagAndModeToOptions(flag, mode) {
    if (!flag && !mode) return undefined;
    if (!flag && mode) return {
        mode
    };
    return {
        ...getOpenOptions(flag),
        mode
    };
}
export function open(path, flags, mode, callback) {
    if (flags === undefined) {
        throw new ERR_INVALID_ARG_TYPE("flags or callback", [
            "string",
            "function"
        ], flags);
    }
    path = getValidatedPath(path);
    if (arguments.length < 3) {
        // deno-lint-ignore no-explicit-any
        callback = flags;
        flags = "r";
        mode = 0o666;
    } else if (typeof mode === "function") {
        callback = mode;
        mode = 0o666;
    } else {
        mode = parseFileMode(mode, "mode", 0o666);
    }
    if (typeof callback !== "function") {
        throw new ERR_INVALID_ARG_TYPE("callback", "function", callback);
    }
    if (flags === undefined) {
        flags = "r";
    }
    if (existenceCheckRequired(flags) && existsSync(path)) {
        const err = new Error(`EEXIST: file already exists, open '${path}'`);
        callback(err);
    } else {
        if (flags === "as" || flags === "as+") {
            let err1 = null, res;
            try {
                res = openSync(path, flags, mode);
            } catch (error) {
                err1 = error instanceof Error ? error : new Error("[non-error thrown]");
            }
            if (err1) {
                callback(err1);
            } else {
                callback(null, res);
            }
            return;
        }
        Deno.open(path, convertFlagAndModeToOptions(flags, mode)).then((file)=>callback(null, file.rid), (err)=>callback(err));
    }
}
export const openPromise = promisify(open);
export function openSync(path, flags, maybeMode) {
    const mode = parseFileMode(maybeMode, "mode", 0o666);
    path = getValidatedPath(path);
    if (flags === undefined) {
        flags = "r";
    }
    if (existenceCheckRequired(flags) && existsSync(path)) {
        throw new Error(`EEXIST: file already exists, open '${path}'`);
    }
    return Deno.openSync(path, convertFlagAndModeToOptions(flags, mode)).rid;
}
function existenceCheckRequired(flags) {
    return typeof flags === "string" && [
        "ax",
        "ax+",
        "wx",
        "wx+"
    ].includes(flags) || typeof flags === "number" && ((flags & FLAGS_AX) === FLAGS_AX || (flags & FLAGS_AX_PLUS) === FLAGS_AX_PLUS || (flags & FLAGS_WX) === FLAGS_WX || (flags & FLAGS_WX_PLUS) === FLAGS_WX_PLUS);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE2Ny4wL25vZGUvX2ZzL19mc19vcGVuLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjIgdGhlIERlbm8gYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gTUlUIGxpY2Vuc2UuXG5pbXBvcnQge1xuICBPX0FQUEVORCxcbiAgT19DUkVBVCxcbiAgT19FWENMLFxuICBPX1JEV1IsXG4gIE9fVFJVTkMsXG4gIE9fV1JPTkxZLFxufSBmcm9tIFwiLi9fZnNfY29uc3RhbnRzLnRzXCI7XG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSBcIi4uLy4uL2ZzL2V4aXN0cy50c1wiO1xuaW1wb3J0IHsgZ2V0T3Blbk9wdGlvbnMgfSBmcm9tIFwiLi9fZnNfY29tbW9uLnRzXCI7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdXRpbC5tanNcIjtcbmltcG9ydCB7IHBhcnNlRmlsZU1vZGUgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdmFsaWRhdG9ycy5tanNcIjtcbmltcG9ydCB7IEVSUl9JTlZBTElEX0FSR19UWVBFIH0gZnJvbSBcIi4uL2ludGVybmFsL2Vycm9ycy50c1wiO1xuaW1wb3J0IHsgZ2V0VmFsaWRhdGVkUGF0aCB9IGZyb20gXCIuLi9pbnRlcm5hbC9mcy91dGlscy5tanNcIjtcbmltcG9ydCB0eXBlIHsgQnVmZmVyIH0gZnJvbSBcIi4uL2J1ZmZlci50c1wiO1xuXG5jb25zdCBGTEFHU19BWCA9IE9fQVBQRU5EIHwgT19DUkVBVCB8IE9fV1JPTkxZIHwgT19FWENMO1xuY29uc3QgRkxBR1NfQVhfUExVUyA9IE9fQVBQRU5EIHwgT19DUkVBVCB8IE9fUkRXUiB8IE9fRVhDTDtcbmNvbnN0IEZMQUdTX1dYID0gT19UUlVOQyB8IE9fQ1JFQVQgfCBPX1dST05MWSB8IE9fRVhDTDtcbmNvbnN0IEZMQUdTX1dYX1BMVVMgPSBPX1RSVU5DIHwgT19DUkVBVCB8IE9fUkRXUiB8IE9fRVhDTDtcblxuZXhwb3J0IHR5cGUgb3BlbkZsYWdzID1cbiAgfCBcImFcIlxuICB8IFwiYXhcIlxuICB8IFwiYStcIlxuICB8IFwiYXgrXCJcbiAgfCBcImFzXCJcbiAgfCBcImFzK1wiXG4gIHwgXCJyXCJcbiAgfCBcInIrXCJcbiAgfCBcInJzK1wiXG4gIHwgXCJ3XCJcbiAgfCBcInd4XCJcbiAgfCBcIncrXCJcbiAgfCBcInd4K1wiXG4gIHwgbnVtYmVyO1xuXG50eXBlIG9wZW5DYWxsYmFjayA9IChlcnI6IEVycm9yIHwgbnVsbCwgZmQ6IG51bWJlcikgPT4gdm9pZDtcblxuZnVuY3Rpb24gY29udmVydEZsYWdBbmRNb2RlVG9PcHRpb25zKFxuICBmbGFnPzogb3BlbkZsYWdzLFxuICBtb2RlPzogbnVtYmVyLFxuKTogRGVuby5PcGVuT3B0aW9ucyB8IHVuZGVmaW5lZCB7XG4gIGlmICghZmxhZyAmJiAhbW9kZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKCFmbGFnICYmIG1vZGUpIHJldHVybiB7IG1vZGUgfTtcbiAgcmV0dXJuIHsgLi4uZ2V0T3Blbk9wdGlvbnMoZmxhZyksIG1vZGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW4ocGF0aDogc3RyaW5nIHwgQnVmZmVyIHwgVVJMLCBjYWxsYmFjazogb3BlbkNhbGxiYWNrKTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiBvcGVuKFxuICBwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwsXG4gIGZsYWdzOiBvcGVuRmxhZ3MsXG4gIGNhbGxiYWNrOiBvcGVuQ2FsbGJhY2ssXG4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW4oXG4gIHBhdGg6IHN0cmluZyB8IEJ1ZmZlciB8IFVSTCxcbiAgZmxhZ3M6IG9wZW5GbGFncyxcbiAgbW9kZTogbnVtYmVyLFxuICBjYWxsYmFjazogb3BlbkNhbGxiYWNrLFxuKTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiBvcGVuKFxuICBwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwsXG4gIGZsYWdzOiBvcGVuQ2FsbGJhY2sgfCBvcGVuRmxhZ3MsXG4gIG1vZGU/OiBvcGVuQ2FsbGJhY2sgfCBudW1iZXIsXG4gIGNhbGxiYWNrPzogb3BlbkNhbGxiYWNrLFxuKSB7XG4gIGlmIChmbGFncyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKFxuICAgICAgXCJmbGFncyBvciBjYWxsYmFja1wiLFxuICAgICAgW1wic3RyaW5nXCIsIFwiZnVuY3Rpb25cIl0sXG4gICAgICBmbGFncyxcbiAgICApO1xuICB9XG4gIHBhdGggPSBnZXRWYWxpZGF0ZWRQYXRoKHBhdGgpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAvLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxuICAgIGNhbGxiYWNrID0gZmxhZ3MgYXMgYW55O1xuICAgIGZsYWdzID0gXCJyXCI7XG4gICAgbW9kZSA9IDBvNjY2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjYWxsYmFjayA9IG1vZGU7XG4gICAgbW9kZSA9IDBvNjY2O1xuICB9IGVsc2Uge1xuICAgIG1vZGUgPSBwYXJzZUZpbGVNb2RlKG1vZGUsIFwibW9kZVwiLCAwbzY2Nik7XG4gIH1cblxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoXG4gICAgICBcImNhbGxiYWNrXCIsXG4gICAgICBcImZ1bmN0aW9uXCIsXG4gICAgICBjYWxsYmFjayxcbiAgICApO1xuICB9XG5cbiAgaWYgKGZsYWdzID09PSB1bmRlZmluZWQpIHtcbiAgICBmbGFncyA9IFwiclwiO1xuICB9XG5cbiAgaWYgKFxuICAgIGV4aXN0ZW5jZUNoZWNrUmVxdWlyZWQoZmxhZ3MgYXMgb3BlbkZsYWdzKSAmJlxuICAgIGV4aXN0c1N5bmMocGF0aCBhcyBzdHJpbmcpXG4gICkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgRUVYSVNUOiBmaWxlIGFscmVhZHkgZXhpc3RzLCBvcGVuICcke3BhdGh9J2ApO1xuICAgIChjYWxsYmFjayBhcyAoZXJyOiBFcnJvcikgPT4gdm9pZCkoZXJyKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZmxhZ3MgPT09IFwiYXNcIiB8fCBmbGFncyA9PT0gXCJhcytcIikge1xuICAgICAgbGV0IGVycjogRXJyb3IgfCBudWxsID0gbnVsbCwgcmVzOiBudW1iZXI7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBvcGVuU3luYyhwYXRoLCBmbGFncywgbW9kZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlcnIgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoXCJbbm9uLWVycm9yIHRocm93bl1cIik7XG4gICAgICB9XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIChjYWxsYmFjayBhcyAoZXJyOiBFcnJvcikgPT4gdm9pZCkoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBEZW5vLm9wZW4oXG4gICAgICBwYXRoIGFzIHN0cmluZyxcbiAgICAgIGNvbnZlcnRGbGFnQW5kTW9kZVRvT3B0aW9ucyhmbGFncyBhcyBvcGVuRmxhZ3MsIG1vZGUpLFxuICAgICkudGhlbihcbiAgICAgIChmaWxlKSA9PiBjYWxsYmFjayEobnVsbCwgZmlsZS5yaWQpLFxuICAgICAgKGVycikgPT4gKGNhbGxiYWNrIGFzIChlcnI6IEVycm9yKSA9PiB2b2lkKShlcnIpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG9wZW5Qcm9taXNlID0gcHJvbWlzaWZ5KG9wZW4pIGFzIChcbiAgJiAoKHBhdGg6IHN0cmluZyB8IEJ1ZmZlciB8IFVSTCkgPT4gUHJvbWlzZTxudW1iZXI+KVxuICAmICgocGF0aDogc3RyaW5nIHwgQnVmZmVyIHwgVVJMLCBmbGFnczogb3BlbkZsYWdzKSA9PiBQcm9taXNlPG51bWJlcj4pXG4gICYgKChwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwsIG1vZGU/OiBudW1iZXIpID0+IFByb21pc2U8bnVtYmVyPilcbiAgJiAoKFxuICAgIHBhdGg6IHN0cmluZyB8IEJ1ZmZlciB8IFVSTCxcbiAgICBmbGFncz86IG9wZW5GbGFncyxcbiAgICBtb2RlPzogbnVtYmVyLFxuICApID0+IFByb21pc2U8bnVtYmVyPilcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuU3luYyhwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwpOiBudW1iZXI7XG5leHBvcnQgZnVuY3Rpb24gb3BlblN5bmMoXG4gIHBhdGg6IHN0cmluZyB8IEJ1ZmZlciB8IFVSTCxcbiAgZmxhZ3M/OiBvcGVuRmxhZ3MsXG4pOiBudW1iZXI7XG5leHBvcnQgZnVuY3Rpb24gb3BlblN5bmMocGF0aDogc3RyaW5nIHwgQnVmZmVyIHwgVVJMLCBtb2RlPzogbnVtYmVyKTogbnVtYmVyO1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TeW5jKFxuICBwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwsXG4gIGZsYWdzPzogb3BlbkZsYWdzLFxuICBtb2RlPzogbnVtYmVyLFxuKTogbnVtYmVyO1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TeW5jKFxuICBwYXRoOiBzdHJpbmcgfCBCdWZmZXIgfCBVUkwsXG4gIGZsYWdzPzogb3BlbkZsYWdzLFxuICBtYXliZU1vZGU/OiBudW1iZXIsXG4pIHtcbiAgY29uc3QgbW9kZSA9IHBhcnNlRmlsZU1vZGUobWF5YmVNb2RlLCBcIm1vZGVcIiwgMG82NjYpO1xuICBwYXRoID0gZ2V0VmFsaWRhdGVkUGF0aChwYXRoKTtcblxuICBpZiAoZmxhZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgIGZsYWdzID0gXCJyXCI7XG4gIH1cblxuICBpZiAoXG4gICAgZXhpc3RlbmNlQ2hlY2tSZXF1aXJlZChmbGFncykgJiZcbiAgICBleGlzdHNTeW5jKHBhdGggYXMgc3RyaW5nKVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVFWElTVDogZmlsZSBhbHJlYWR5IGV4aXN0cywgb3BlbiAnJHtwYXRofSdgKTtcbiAgfVxuXG4gIHJldHVybiBEZW5vLm9wZW5TeW5jKHBhdGggYXMgc3RyaW5nLCBjb252ZXJ0RmxhZ0FuZE1vZGVUb09wdGlvbnMoZmxhZ3MsIG1vZGUpKVxuICAgIC5yaWQ7XG59XG5cbmZ1bmN0aW9uIGV4aXN0ZW5jZUNoZWNrUmVxdWlyZWQoZmxhZ3M6IG9wZW5GbGFncyB8IG51bWJlcikge1xuICByZXR1cm4gKFxuICAgICh0eXBlb2YgZmxhZ3MgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIFtcImF4XCIsIFwiYXgrXCIsIFwid3hcIiwgXCJ3eCtcIl0uaW5jbHVkZXMoZmxhZ3MpKSB8fFxuICAgICh0eXBlb2YgZmxhZ3MgPT09IFwibnVtYmVyXCIgJiYgKFxuICAgICAgKChmbGFncyAmIEZMQUdTX0FYKSA9PT0gRkxBR1NfQVgpIHx8XG4gICAgICAoKGZsYWdzICYgRkxBR1NfQVhfUExVUykgPT09IEZMQUdTX0FYX1BMVVMpIHx8XG4gICAgICAoKGZsYWdzICYgRkxBR1NfV1gpID09PSBGTEFHU19XWCkgfHxcbiAgICAgICgoZmxhZ3MgJiBGTEFHU19XWF9QTFVTKSA9PT0gRkxBR1NfV1hfUExVUylcbiAgICApKVxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBFQUEwRTtBQUMxRSxTQUNFLFFBQVEsRUFDUixPQUFPLEVBQ1AsTUFBTSxFQUNOLE1BQU0sRUFDTixPQUFPLEVBQ1AsUUFBUSxRQUNILHFCQUFxQjtBQUM1QixTQUFTLFVBQVUsUUFBUSxxQkFBcUI7QUFDaEQsU0FBUyxjQUFjLFFBQVEsa0JBQWtCO0FBQ2pELFNBQVMsU0FBUyxRQUFRLHVCQUF1QjtBQUNqRCxTQUFTLGFBQWEsUUFBUSw2QkFBNkI7QUFDM0QsU0FBUyxvQkFBb0IsUUFB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