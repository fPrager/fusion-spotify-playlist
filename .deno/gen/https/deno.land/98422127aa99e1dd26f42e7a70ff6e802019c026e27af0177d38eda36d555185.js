// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { CFISBIS } from "./_fs_stat.ts";
import { promisify } from "../internal/util.mjs";
export function lstat(path, optionsOrCallback, maybeCallback) {
    const callback = typeof optionsOrCallback === "function" ? optionsOrCallback : maybeCallback;
    const options = typeof optionsOrCallback === "object" ? optionsOrCallback : {
        bigint: false
    };
    if (!callback) throw new Error("No callback function supplied");
    Deno.lstat(path).then((stat)=>callback(null, CFISBIS(stat, options.bigint)), (err)=>callback(err));
}
export const lstatPromise = promisify(lstat);
export function lstatSync(path, options) {
    const origin = Deno.lstatSync(path);
    return CFISBIS(origin, options?.bigint || false);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE2Ny4wL25vZGUvX2ZzL19mc19sc3RhdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuaW1wb3J0IHtcbiAgQmlnSW50U3RhdHMsXG4gIENGSVNCSVMsXG4gIHN0YXRDYWxsYmFjayxcbiAgc3RhdENhbGxiYWNrQmlnSW50LFxuICBzdGF0T3B0aW9ucyxcbiAgU3RhdHMsXG59IGZyb20gXCIuL19mc19zdGF0LnRzXCI7XG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdXRpbC5tanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxzdGF0KHBhdGg6IHN0cmluZyB8IFVSTCwgY2FsbGJhY2s6IHN0YXRDYWxsYmFjayk6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gbHN0YXQoXG4gIHBhdGg6IHN0cmluZyB8IFVSTCxcbiAgb3B0aW9uczogeyBiaWdpbnQ6IGZhbHNlIH0sXG4gIGNhbGxiYWNrOiBzdGF0Q2FsbGJhY2ssXG4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIGxzdGF0KFxuICBwYXRoOiBzdHJpbmcgfCBVUkwsXG4gIG9wdGlvbnM6IHsgYmlnaW50OiB0cnVlIH0sXG4gIGNhbGxiYWNrOiBzdGF0Q2FsbGJhY2tCaWdJbnQsXG4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIGxzdGF0KFxuICBwYXRoOiBzdHJpbmcgfCBVUkwsXG4gIG9wdGlvbnNPckNhbGxiYWNrOiBzdGF0Q2FsbGJhY2sgfCBzdGF0Q2FsbGJhY2tCaWdJbnQgfCBzdGF0T3B0aW9ucyxcbiAgbWF5YmVDYWxsYmFjaz86IHN0YXRDYWxsYmFjayB8IHN0YXRDYWxsYmFja0JpZ0ludCxcbikge1xuICBjb25zdCBjYWxsYmFjayA9XG4gICAgKHR5cGVvZiBvcHRpb25zT3JDYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IG9wdGlvbnNPckNhbGxiYWNrXG4gICAgICA6IG1heWJlQ2FsbGJhY2spIGFzIChcbiAgICAgICAgLi4uYXJnczogW0Vycm9yXSB8IFtudWxsLCBCaWdJbnRTdGF0cyB8IFN0YXRzXVxuICAgICAgKSA9PiB2b2lkO1xuICBjb25zdCBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnNPckNhbGxiYWNrID09PSBcIm9iamVjdFwiXG4gICAgPyBvcHRpb25zT3JDYWxsYmFja1xuICAgIDogeyBiaWdpbnQ6IGZhbHNlIH07XG5cbiAgaWYgKCFjYWxsYmFjaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2FsbGJhY2sgZnVuY3Rpb24gc3VwcGxpZWRcIik7XG5cbiAgRGVuby5sc3RhdChwYXRoKS50aGVuKFxuICAgIChzdGF0KSA9PiBjYWxsYmFjayhudWxsLCBDRklTQklTKHN0YXQsIG9wdGlvbnMuYmlnaW50KSksXG4gICAgKGVycikgPT4gY2FsbGJhY2soZXJyKSxcbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IGxzdGF0UHJvbWlzZSA9IHByb21pc2lmeShsc3RhdCkgYXMgKFxuICAmICgocGF0aDogc3RyaW5nIHwgVVJMKSA9PiBQcm9taXNlPFN0YXRzPilcbiAgJiAoKHBhdGg6IHN0cmluZyB8IFVSTCwgb3B0aW9uczogeyBiaWdpbnQ6IGZhbHNlIH0pID0+IFByb21pc2U8U3RhdHM+KVxuICAmICgocGF0aDogc3RyaW5nIHwgVVJMLCBvcHRpb25zOiB7IGJpZ2ludDogdHJ1ZSB9KSA9PiBQcm9taXNlPEJpZ0ludFN0YXRzPilcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBsc3RhdFN5bmMocGF0aDogc3RyaW5nIHwgVVJMKTogU3RhdHM7XG5leHBvcnQgZnVuY3Rpb24gbHN0YXRTeW5jKFxuICBwYXRoOiBzdHJpbmcgfCBVUkwsXG4gIG9wdGlvbnM6IHsgYmlnaW50OiBmYWxzZSB9LFxuKTogU3RhdHM7XG5leHBvcnQgZnVuY3Rpb24gbHN0YXRTeW5jKFxuICBwYXRoOiBzdHJpbmcgfCBVUkwsXG4gIG9wdGlvbnM6IHsgYmlnaW50OiB0cnVlIH0sXG4pOiBCaWdJbnRTdGF0cztcbmV4cG9ydCBmdW5jdGlvbiBsc3RhdFN5bmMoXG4gIHBhdGg6IHN0cmluZyB8IFVSTCxcbiAgb3B0aW9ucz86IHN0YXRPcHRpb25zLFxuKTogU3RhdHMgfCBCaWdJbnRTdGF0cyB7XG4gIGNvbnN0IG9yaWdpbiA9IERlbm8ubHN0YXRTeW5jKHBhdGgpO1xuICByZXR1cm4gQ0ZJU0JJUyhvcmlnaW4sIG9wdGlvbnM/LmJpZ2ludCB8fCBmYWxzZSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEVBQTBFO0FBQzFFLFNBRUUsT0FBTyxRQUtGLGdCQUFnQjtBQUN2QixTQUFTLFNBQVMsUUFBUSx1QkFBdUI7QUFhakQsT0FBTyxTQUFTLE1BQ2QsSUFBa0IsRUFDbEIsaUJBQWtFLEVBQ2xFLGFBQWlELEVBQ2pEO0lBQ0EsTUFBTSxXQUNILE9BQU8sc0JBQXNCLGFBQzFCLG9CQUNBLGFBQWE7SUFHbkIsTUFBTSxVQUFVLE9BQU8sc0JBQXNCLFdBQ3pDLG9CQUNBO1FBQUUsUUFBUSxLQUFLO0lBQUMsQ0FBQztJQUVyQixJQUFJLENBQUMsVUFBVSxNQUFNLElBQUksTUFBTSxpQ0FBaUM7SUFFaEUsS0FBSyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQ25CLENBQUMsT0FBUyxTQUFTLElBQUksRUFBRSxRQUFRLE1BQU0sUUFBUSxNQUFNLElBQ3JELENBQUMsTUFBUSxTQUFTO0FBRXRCLENBQUM7QUFFRCxPQUFPLE1BQU0sZUFBZSxVQUFVLE9BSXBDO0FBV0YsT0FBTyxTQUFTLFVBQ2QsSUFBa0IsRUFDbEIsT0FBcUIsRUFDQTtJQUNyQixNQUFNLFNBQVMsS0FBSyxTQUFTLENBQUM7SUFDOUIsT0FBTyxRQUFRLFFBQVEsU0FBUyxVQUFVLEtBQUs7QUFDakQsQ0FBQyJ9