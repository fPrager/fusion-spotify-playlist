// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { getValidatedPath } from "../internal/fs/utils.mjs";
import * as pathModule from "../../path/mod.ts";
import { parseFileMode } from "../internal/validators.mjs";
import { promisify } from "../internal/util.mjs";
export function chmod(path, mode, callback) {
    path = getValidatedPath(path).toString();
    mode = parseFileMode(mode, "mode");
    Deno.chmod(pathModule.toNamespacedPath(path), mode).then(()=>callback(null), callback);
}
export const chmodPromise = promisify(chmod);
export function chmodSync(path, mode) {
    path = getValidatedPath(path).toString();
    mode = parseFileMode(mode, "mode");
    Deno.chmodSync(pathModule.toNamespacedPath(path), mode);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE2Ny4wL25vZGUvX2ZzL19mc19jaG1vZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIyIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuaW1wb3J0IHR5cGUgeyBDYWxsYmFja1dpdGhFcnJvciB9IGZyb20gXCIuL19mc19jb21tb24udHNcIjtcbmltcG9ydCB7IGdldFZhbGlkYXRlZFBhdGggfSBmcm9tIFwiLi4vaW50ZXJuYWwvZnMvdXRpbHMubWpzXCI7XG5pbXBvcnQgKiBhcyBwYXRoTW9kdWxlIGZyb20gXCIuLi8uLi9wYXRoL21vZC50c1wiO1xuaW1wb3J0IHsgcGFyc2VGaWxlTW9kZSB9IGZyb20gXCIuLi9pbnRlcm5hbC92YWxpZGF0b3JzLm1qc1wiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcIi4uL2J1ZmZlci50c1wiO1xuaW1wb3J0IHsgcHJvbWlzaWZ5IH0gZnJvbSBcIi4uL2ludGVybmFsL3V0aWwubWpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaG1vZChcbiAgcGF0aDogc3RyaW5nIHwgQnVmZmVyIHwgVVJMLFxuICBtb2RlOiBzdHJpbmcgfCBudW1iZXIsXG4gIGNhbGxiYWNrOiBDYWxsYmFja1dpdGhFcnJvcixcbikge1xuICBwYXRoID0gZ2V0VmFsaWRhdGVkUGF0aChwYXRoKS50b1N0cmluZygpO1xuICBtb2RlID0gcGFyc2VGaWxlTW9kZShtb2RlLCBcIm1vZGVcIik7XG5cbiAgRGVuby5jaG1vZChwYXRoTW9kdWxlLnRvTmFtZXNwYWNlZFBhdGgocGF0aCksIG1vZGUpLnRoZW4oXG4gICAgKCkgPT4gY2FsbGJhY2sobnVsbCksXG4gICAgY2FsbGJhY2ssXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBjaG1vZFByb21pc2UgPSBwcm9taXNpZnkoY2htb2QpIGFzIChcbiAgcGF0aDogc3RyaW5nIHwgQnVmZmVyIHwgVVJMLFxuICBtb2RlOiBzdHJpbmcgfCBudW1iZXIsXG4pID0+IFByb21pc2U8dm9pZD47XG5cbmV4cG9ydCBmdW5jdGlvbiBjaG1vZFN5bmMocGF0aDogc3RyaW5nIHwgVVJMLCBtb2RlOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgcGF0aCA9IGdldFZhbGlkYXRlZFBhdGgocGF0aCkudG9TdHJpbmcoKTtcbiAgbW9kZSA9IHBhcnNlRmlsZU1vZGUobW9kZSwgXCJtb2RlXCIpO1xuXG4gIERlbm8uY2htb2RTeW5jKHBhdGhNb2R1bGUudG9OYW1lc3BhY2VkUGF0aChwYXRoKSwgbW9kZSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEVBQTBFO0FBRTFFLFNBQVMsZ0JBQWdCLFFBQVEsMkJBQTJCO0FBQzVELFlBQVksZ0JBQWdCLG9CQUFvQjtBQUNoRCxTQUFTLGFBQWEsUUFBUSw2QkFBNkI7QUFFM0QsU0FBUyxTQUFTLFFBQVEsdUJBQXVCO0FBRWpELE9BQU8sU0FBUyxNQUNkLElBQTJCLEVBQzNCLElBQXFCLEVBQ3JCLFFBQTJCLEVBQzNCO0lBQ0EsT0FBTyxpQkFBaUIsTUFBTSxRQUFRO0lBQ3RDLE9BQU8sY0FBYyxNQUFNO0lBRTNCLEtBQUssS0FBSyxDQUFDLFdBQVcsZ0JBQWdCLENBQUMsT0FBTyxNQUFNLElBQUksQ0FDdEQsSUFBTSxTQUFTLElBQUksR0FDbkI7QUFFSixDQUFDO0FBRUQsT0FBTyxNQUFNLGVBQWUsVUFBVSxPQUduQjtBQUVuQixPQUFPLFNBQVMsVUFBVSxJQUFrQixFQUFFLElBQXFCLEVBQUU7SUFDbkUsT0FBTyxpQkFBaUIsTUFBTSxRQUFRO0lBQ3RDLE9BQU8sY0FBYyxNQUFNO0lBRTNCLEtBQUssU0FBUyxDQUFDLFdBQVcsZ0JBQWdCLENBQUMsT0FBTztBQUNwRCxDQUFDIn0=