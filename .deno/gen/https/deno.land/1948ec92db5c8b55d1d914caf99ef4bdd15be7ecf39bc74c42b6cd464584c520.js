// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
import { fromFileUrl } from "../path.ts";
import { promisify } from "../internal/util.mjs";
export function rename(oldPath, newPath, callback) {
    oldPath = oldPath instanceof URL ? fromFileUrl(oldPath) : oldPath;
    newPath = newPath instanceof URL ? fromFileUrl(newPath) : newPath;
    if (!callback) throw new Error("No callback function supplied");
    Deno.rename(oldPath, newPath).then((_)=>callback(), callback);
}
export const renamePromise = promisify(rename);
export function renameSync(oldPath, newPath) {
    oldPath = oldPath instanceof URL ? fromFileUrl(oldPath) : oldPath;
    newPath = newPath instanceof URL ? fromFileUrl(newPath) : newPath;
    Deno.renameSync(oldPath, newPath);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE2Ny4wL25vZGUvX2ZzL19mc19yZW5hbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMiB0aGUgRGVubyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBNSVQgbGljZW5zZS5cbmltcG9ydCB7IGZyb21GaWxlVXJsIH0gZnJvbSBcIi4uL3BhdGgudHNcIjtcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlsLm1qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuYW1lKFxuICBvbGRQYXRoOiBzdHJpbmcgfCBVUkwsXG4gIG5ld1BhdGg6IHN0cmluZyB8IFVSTCxcbiAgY2FsbGJhY2s6IChlcnI/OiBFcnJvcikgPT4gdm9pZCxcbikge1xuICBvbGRQYXRoID0gb2xkUGF0aCBpbnN0YW5jZW9mIFVSTCA/IGZyb21GaWxlVXJsKG9sZFBhdGgpIDogb2xkUGF0aDtcbiAgbmV3UGF0aCA9IG5ld1BhdGggaW5zdGFuY2VvZiBVUkwgPyBmcm9tRmlsZVVybChuZXdQYXRoKSA6IG5ld1BhdGg7XG5cbiAgaWYgKCFjYWxsYmFjaykgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2FsbGJhY2sgZnVuY3Rpb24gc3VwcGxpZWRcIik7XG5cbiAgRGVuby5yZW5hbWUob2xkUGF0aCwgbmV3UGF0aCkudGhlbigoXykgPT4gY2FsbGJhY2soKSwgY2FsbGJhY2spO1xufVxuXG5leHBvcnQgY29uc3QgcmVuYW1lUHJvbWlzZSA9IHByb21pc2lmeShyZW5hbWUpIGFzIChcbiAgb2xkUGF0aDogc3RyaW5nIHwgVVJMLFxuICBuZXdQYXRoOiBzdHJpbmcgfCBVUkwsXG4pID0+IFByb21pc2U8dm9pZD47XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5hbWVTeW5jKG9sZFBhdGg6IHN0cmluZyB8IFVSTCwgbmV3UGF0aDogc3RyaW5nIHwgVVJMKSB7XG4gIG9sZFBhdGggPSBvbGRQYXRoIGluc3RhbmNlb2YgVVJMID8gZnJvbUZpbGVVcmwob2xkUGF0aCkgOiBvbGRQYXRoO1xuICBuZXdQYXRoID0gbmV3UGF0aCBpbnN0YW5jZW9mIFVSTCA/IGZyb21GaWxlVXJsKG5ld1BhdGgpIDogbmV3UGF0aDtcblxuICBEZW5vLnJlbmFtZVN5bmMob2xkUGF0aCwgbmV3UGF0aCk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMEVBQTBFO0FBQzFFLFNBQVMsV0FBVyxRQUFRLGFBQWE7QUFDekMsU0FBUyxTQUFTLFFBQVEsdUJBQXVCO0FBRWpELE9BQU8sU0FBUyxPQUNkLE9BQXFCLEVBQ3JCLE9BQXFCLEVBQ3JCLFFBQStCLEVBQy9CO0lBQ0EsVUFBVSxtQkFBbUIsTUFBTSxZQUFZLFdBQVcsT0FBTztJQUNqRSxVQUFVLG1CQUFtQixNQUFNLFlBQVksV0FBVyxPQUFPO0lBRWpFLElBQUksQ0FBQyxVQUFVLE1BQU0sSUFBSSxNQUFNLGlDQUFpQztJQUVoRSxLQUFLLE1BQU0sQ0FBQyxTQUFTLFNBQVMsSUFBSSxDQUFDLENBQUMsSUFBTSxZQUFZO0FBQ3hELENBQUM7QUFFRCxPQUFPLE1BQU0sZ0JBQWdCLFVBQVUsUUFHcEI7QUFFbkIsT0FBTyxTQUFTLFdBQVcsT0FBcUIsRUFBRSxPQUFxQixFQUFFO0lBQ3ZFLFVBQVUsbUJBQW1CLE1BQU0sWUFBWSxXQUFXLE9BQU87SUFDakUsVUFBVSxtQkFBbUIsTUFBTSxZQUFZLFdBQVcsT0FBTztJQUVqRSxLQUFLLFVBQVUsQ0FBQyxTQUFTO0FBQzNCLENBQUMifQ==