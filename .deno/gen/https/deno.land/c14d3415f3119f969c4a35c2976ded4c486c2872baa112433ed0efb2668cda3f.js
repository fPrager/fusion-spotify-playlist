// Copyright 2018-2022 the Deno authors. All rights reserved. MIT license.
function getValidTime(time, name) {
    if (typeof time === "string") {
        time = Number(time);
    }
    if (typeof time === "number" && (Number.isNaN(time) || !Number.isFinite(time))) {
        throw new Deno.errors.InvalidData(`invalid ${name}, must not be infinity or NaN`);
    }
    return time;
}
export function futimes(fd, atime, mtime, callback) {
    if (!callback) {
        throw new Deno.errors.InvalidData("No callback function supplied");
    }
    atime = getValidTime(atime, "atime");
    mtime = getValidTime(mtime, "mtime");
    Deno.futime(fd, atime, mtime).then(()=>callback(null), callback);
}
export function futimesSync(fd, atime, mtime) {
    atime = getValidTime(atime, "atime");
    mtime = getValidTime(mtime, "mtime");
    Deno.futimeSync(fd, atime, mtime);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjE2Ny4wL25vZGUvX2ZzL19mc19mdXRpbWVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE4LTIwMjIgdGhlIERlbm8gYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gTUlUIGxpY2Vuc2UuXG5cbmltcG9ydCB0eXBlIHsgQ2FsbGJhY2tXaXRoRXJyb3IgfSBmcm9tIFwiLi9fZnNfY29tbW9uLnRzXCI7XG5cbmZ1bmN0aW9uIGdldFZhbGlkVGltZShcbiAgdGltZTogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogbnVtYmVyIHwgRGF0ZSB7XG4gIGlmICh0eXBlb2YgdGltZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRpbWUgPSBOdW1iZXIodGltZSk7XG4gIH1cblxuICBpZiAoXG4gICAgdHlwZW9mIHRpbWUgPT09IFwibnVtYmVyXCIgJiZcbiAgICAoTnVtYmVyLmlzTmFOKHRpbWUpIHx8ICFOdW1iZXIuaXNGaW5pdGUodGltZSkpXG4gICkge1xuICAgIHRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcbiAgICAgIGBpbnZhbGlkICR7bmFtZX0sIG11c3Qgbm90IGJlIGluZmluaXR5IG9yIE5hTmAsXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB0aW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnV0aW1lcyhcbiAgZmQ6IG51bWJlcixcbiAgYXRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUsXG4gIG10aW1lOiBudW1iZXIgfCBzdHJpbmcgfCBEYXRlLFxuICBjYWxsYmFjazogQ2FsbGJhY2tXaXRoRXJyb3IsXG4pIHtcbiAgaWYgKCFjYWxsYmFjaykge1xuICAgIHRocm93IG5ldyBEZW5vLmVycm9ycy5JbnZhbGlkRGF0YShcIk5vIGNhbGxiYWNrIGZ1bmN0aW9uIHN1cHBsaWVkXCIpO1xuICB9XG5cbiAgYXRpbWUgPSBnZXRWYWxpZFRpbWUoYXRpbWUsIFwiYXRpbWVcIik7XG4gIG10aW1lID0gZ2V0VmFsaWRUaW1lKG10aW1lLCBcIm10aW1lXCIpO1xuXG4gIERlbm8uZnV0aW1lKGZkLCBhdGltZSwgbXRpbWUpLnRoZW4oKCkgPT4gY2FsbGJhY2sobnVsbCksIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1dGltZXNTeW5jKFxuICBmZDogbnVtYmVyLFxuICBhdGltZTogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSxcbiAgbXRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUsXG4pIHtcbiAgYXRpbWUgPSBnZXRWYWxpZFRpbWUoYXRpbWUsIFwiYXRpbWVcIik7XG4gIG10aW1lID0gZ2V0VmFsaWRUaW1lKG10aW1lLCBcIm10aW1lXCIpO1xuXG4gIERlbm8uZnV0aW1lU3luYyhmZCwgYXRpbWUsIG10aW1lKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwRUFBMEU7QUFJMUUsU0FBUyxhQUNQLElBQTRCLEVBQzVCLElBQVksRUFDRztJQUNmLElBQUksT0FBTyxTQUFTLFVBQVU7UUFDNUIsT0FBTyxPQUFPO0lBQ2hCLENBQUM7SUFFRCxJQUNFLE9BQU8sU0FBUyxZQUNoQixDQUFDLE9BQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLFFBQVEsQ0FBQyxLQUFLLEdBQzdDO1FBQ0EsTUFBTSxJQUFJLEtBQUssTUFBTSxDQUFDLFdBQVcsQ0FDL0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyw2QkFBNkIsQ0FBQyxFQUM5QztJQUNKLENBQUM7SUFFRCxPQUFPO0FBQ1Q7QUFFQSxPQUFPLFNBQVMsUUFDZCxFQUFVLEVBQ1YsS0FBNkIsRUFDN0IsS0FBNkIsRUFDN0IsUUFBMkIsRUFDM0I7SUFDQSxJQUFJLENBQUMsVUFBVTtRQUNiLE1BQU0sSUFBSSxLQUFLLE1BQU0sQ0FBQyxXQUFXLENBQUMsaUNBQWlDO0lBQ3JFLENBQUM7SUFFRCxRQUFRLGFBQWEsT0FBTztJQUM1QixRQUFRLGFBQWEsT0FBTztJQUU1QixLQUFLLE1BQU0sQ0FBQyxJQUFJLE9BQU8sT0FBTyxJQUFJLENBQUMsSUFBTSxTQUFTLElBQUksR0FBRztBQUMzRCxDQUFDO0FBRUQsT0FBTyxTQUFTLFlBQ2QsRUFBVSxFQUNWLEtBQTZCLEVBQzdCLEtBQTZCLEVBQzdCO0lBQ0EsUUFBUSxhQUFhLE9BQU87SUFDNUIsUUFBUSxhQUFhLE9BQU87SUFFNUIsS0FBSyxVQUFVLENBQUMsSUFBSSxPQUFPO0FBQzdCLENBQUMifQ==